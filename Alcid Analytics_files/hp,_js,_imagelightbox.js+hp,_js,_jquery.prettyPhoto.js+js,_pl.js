var mod_pagespeed_PEZaabK8_h = ";(function($,window,document,undefined){'use strict';var cssTransitionSupport=function(){var s=document.body||document.documentElement,s=s.style;if(s.WebkitTransition=='')return'-webkit-';if(s.MozTransition=='')return'-moz-';if(s.OTransition=='')return'-o-';if(s.transition=='')return'';return false;},isCssTransitionSupport=cssTransitionSupport()===false?false:true,cssTransitionTranslateX=function(element,positionX,speed){var options={},prefix=cssTransitionSupport();options[prefix+'transform']='translateX('+positionX+')';options[prefix+'transition']=prefix+'transform '+speed+'s linear';element.css(options);},hasTouch=('ontouchstart'in window),hasPointers=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,wasTouched=function(event){if(hasTouch)return true;if(!hasPointers||typeof event==='undefined'||typeof event.pointerType==='undefined')return false;if(typeof event.MSPOINTER_TYPE_MOUSE!=='undefined'){if(event.MSPOINTER_TYPE_MOUSE!=event.pointerType)return true;}else\nif(event.pointerType!='mouse')return true;return false;};$.fn.imageLightbox=function(options){var options=$.extend({selector:'id=\"imagelightbox\"',allowedTypes:'png|jpg|jpeg|gif',animationSpeed:250,preloadNext:true,enableKeyboard:true,quitOnEnd:false,quitOnImgClick:false,quitOnDocClick:true,onStart:false,onEnd:false,onLoadStart:false,onLoadEnd:false},options),targets=$([]),target=$(),image=$(),imageWidth=0,imageHeight=0,swipeDiff=0,inProgress=false,isTargetValid=function(element){return $(element).prop('tagName').toLowerCase()=='a'&&(new RegExp('\\.('+options.allowedTypes+')$','i')).test($(element).attr('href'));},setImage=function(){if(!image.length)return false;var screenWidth=$(window).width()*0.8,screenHeight=$(window).height()*0.9,tmpImage=new Image();tmpImage.src=image.attr('src');tmpImage.onload=function(){imageWidth=tmpImage.width;imageHeight=tmpImage.height;if(imageWidth>screenWidth||imageHeight>screenHeight){var ratio=imageWidth/imageHeight>screenWidth/screenHeight?imageWidth/screenWidth:imageHeight/screenHeight;imageWidth/=ratio;imageHeight/=ratio;}image.css({'width':imageWidth+'px','height':imageHeight+'px','top':($(window).height()-imageHeight)/2+'px','left':($(window).width()-imageWidth)/2+'px'});};},loadImage=function(direction){if(inProgress)return false;direction=typeof direction==='undefined'?false:direction=='left'?1:-1;if(image.length){if(direction!==false&&(targets.length<2||(options.quitOnEnd===true&&((direction===-1&&targets.index(target)==0)||(direction===1&&targets.index(target)==targets.length-1))))){quitLightbox();return false;}var params={'opacity':0};if(isCssTransitionSupport)cssTransitionTranslateX(image,(100*direction)-swipeDiff+'px',options.animationSpeed/1000);else params.left=parseInt(image.css('left'))+100*direction+'px';image.animate(params,options.animationSpeed,function(){removeImage();});swipeDiff=0;}inProgress=true;if(options.onLoadStart!==false)options.onLoadStart();setTimeout(function(){image=$('<img '+options.selector+' />').attr('src',target.attr('href')).load(function(){image.appendTo('body');setImage();var params={'opacity':1};image.css('opacity',0);if(isCssTransitionSupport){cssTransitionTranslateX(image,-100*direction+'px',0);setTimeout(function(){cssTransitionTranslateX(image,0+'px',options.animationSpeed/1000)},50);}else{var imagePosLeft=parseInt(image.css('left'));params.left=imagePosLeft+'px';image.css('left',imagePosLeft-100*direction+'px');}image.animate(params,options.animationSpeed,function(){inProgress=false;if(options.onLoadEnd!==false)options.onLoadEnd();});if(options.preloadNext){var nextTarget=targets.eq(targets.index(target)+1);if(!nextTarget.length)nextTarget=targets.eq(0);$('<img />').attr('src',nextTarget.attr('href')).load();}}).error(function(){if(options.onLoadEnd!==false)options.onLoadEnd();})\nvar swipeStart=0,swipeEnd=0,imagePosLeft=0;image.on(hasPointers?'pointerup MSPointerUp':'click',function(e){e.preventDefault();if(options.quitOnImgClick){quitLightbox();return false;}if(wasTouched(e.originalEvent))return true;var posX=(e.pageX||e.originalEvent.pageX)-e.target.offsetLeft;target=targets.eq(targets.index(target)-(imageWidth/2>posX?1:-1));if(!target.length)target=targets.eq(imageWidth/2>posX?targets.length:0);loadImage(imageWidth/2>posX?'left':'right');}).on('touchstart pointerdown MSPointerDown',function(e){if(!wasTouched(e.originalEvent)||options.quitOnImgClick)return true;if(isCssTransitionSupport)imagePosLeft=parseInt(image.css('left'));swipeStart=e.originalEvent.pageX||e.originalEvent.touches[0].pageX;}).on('touchmove pointermove MSPointerMove',function(e){if(!wasTouched(e.originalEvent)||options.quitOnImgClick)return true;e.preventDefault();swipeEnd=e.originalEvent.pageX||e.originalEvent.touches[0].pageX;swipeDiff=swipeStart-swipeEnd;if(isCssTransitionSupport)cssTransitionTranslateX(image,-swipeDiff+'px',0);else image.css('left',imagePosLeft-swipeDiff+'px');}).on('touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel',function(e){if(!wasTouched(e.originalEvent)||options.quitOnImgClick)return true;if(Math.abs(swipeDiff)>50){target=targets.eq(targets.index(target)-(swipeDiff<0?1:-1));if(!target.length)target=targets.eq(swipeDiff<0?targets.length:0);loadImage(swipeDiff>0?'right':'left');}else{if(isCssTransitionSupport)cssTransitionTranslateX(image,0+'px',options.animationSpeed/1000);else image.animate({'left':imagePosLeft+'px'},options.animationSpeed/2);}});},options.animationSpeed+100);},removeImage=function(){if(!image.length)return false;image.remove();image=$();},quitLightbox=function(){if(!image.length)return false;image.animate({'opacity':0},options.animationSpeed,function(){removeImage();inProgress=false;if(options.onEnd!==false)options.onEnd();});};$(window).on('resize',setImage);if(options.quitOnDocClick){$(document).on(hasTouch?'touchend':'click',function(e){if(image.length&&!$(e.target).is(image))quitLightbox();})}if(options.enableKeyboard){$(document).on('keyup',function(e){if(!image.length)return true;e.preventDefault();if(e.keyCode==27)quitLightbox();if(e.keyCode==37||e.keyCode==39){target=targets.eq(targets.index(target)-(e.keyCode==37?1:-1));if(!target.length)target=targets.eq(e.keyCode==37?targets.length:0);loadImage(e.keyCode==37?'left':'right');}});}$(document).on('click',this.selector,function(e){if(!isTargetValid(this))return true;e.preventDefault();if(inProgress)return false;inProgress=false;if(options.onStart!==false)options.onStart();target=$(this);loadImage();});this.each(function(){if(!isTargetValid(this))return true;targets=targets.add($(this));});this.switchImageLightbox=function(index){var tmpTarget=targets.eq(index);if(tmpTarget.length){var currentIndex=targets.index(target);target=tmpTarget;loadImage(index<currentIndex?'left':'right');}return this;};this.quitImageLightbox=function(){quitLightbox();return this;};return this;};})(jQuery,window,document);";
var mod_pagespeed_0qIsO5RdTu = "(function($){$.prettyPhoto={version:'3.1.5'};$.fn.prettyPhoto=function(pp_settings){pp_settings=jQuery.extend({hook:'rel',animation_speed:'fast',ajaxcallback:function(){},slideshow:5000,autoplay_slideshow:false,opacity:0.80,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:'/',theme:'pp_default',horizontal_padding:20,hideflash:false,wmode:'opaque',autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class=\"pp_pic_holder\"> \\\n						<div class=\"ppt\">&nbsp;</div> \\\n						<div class=\"pp_top\"> \\\n							<div class=\"pp_left\"></div> \\\n							<div class=\"pp_middle\"></div> \\\n							<div class=\"pp_right\"></div> \\\n						</div> \\\n						<div class=\"pp_content_container\"> \\\n							<div class=\"pp_left\"> \\\n							<div class=\"pp_right\"> \\\n								<div class=\"pp_content\"> \\\n									<div class=\"pp_loaderIcon\"></div> \\\n									<div class=\"pp_fade\"> \\\n										<a href=\"#\" class=\"pp_expand\" title=\"Expand the image\">Expand</a> \\\n										<div class=\"pp_hoverContainer\"> \\\n											<a class=\"pp_next\" href=\"#\">next</a> \\\n											<a class=\"pp_previous\" href=\"#\">previous</a> \\\n										</div> \\\n										<div id=\"pp_full_res\"></div> \\\n										<div class=\"pp_details\"> \\\n											<div class=\"pp_nav\"> \\\n												<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n												<p class=\"currentTextHolder\">0/0</p> \\\n												<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n											</div> \\\n											<p class=\"pp_description\"></p> \\\n											<div class=\"pp_social\">{pp_social}</div> \\\n											<a class=\"pp_close\" href=\"#\">Close</a> \\\n										</div> \\\n									</div> \\\n								</div> \\\n							</div> \\\n							</div> \\\n						</div> \\\n						<div class=\"pp_bottom\"> \\\n							<div class=\"pp_left\"></div> \\\n							<div class=\"pp_middle\"></div> \\\n							<div class=\"pp_right\"></div> \\\n						</div> \\\n					</div> \\\n					<div class=\"pp_overlay\"></div>',gallery_markup:'<div class=\"pp_gallery\"> \\\n								<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\n								<div> \\\n									<ul> \\\n										{gallery} \\\n									</ul> \\\n								</div> \\\n								<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\n							</div>',image_markup:'<img id=\"fullResImage\" src=\"{path}\" />',flash_markup:'<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"{width}\" height=\"{height}\"><param name=\"wmode\" value=\"{wmode}\" /><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"{path}\" /><embed src=\"{path}\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"{width}\" height=\"{height}\" wmode=\"{wmode}\"></embed></object>',quicktime_markup:'<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" height=\"{height}\" width=\"{width}\"><param name=\"src\" value=\"{path}\"><param name=\"autoplay\" value=\"{autoplay}\"><param name=\"type\" value=\"video/quicktime\"><embed src=\"{path}\" height=\"{height}\" width=\"{width}\" autoplay=\"{autoplay}\" type=\"video/quicktime\" pluginspage=\"http://www.apple.com/quicktime/download/\"></embed></object>',iframe_markup:'<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\"></iframe>',inline_markup:'<div class=\"pp_inline\">{content}</div>',custom_markup:'',social_tools:'<div class=\"twitter\"><a href=\"http://twitter.com/share\" class=\"twitter-share-button\" data-count=\"none\">Tweet</a>\u003cscript type=\"text/javascript\" src=\"http://platform.twitter.com/widgets.js\"><\/script></div><div class=\"facebook\"><iframe src=\"//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23\" scrolling=\"no\" frameborder=\"0\" style=\"border:none; overflow:hidden; width:500px; height:23px;\" allowTransparency=\"true\"></iframe></div>'},pp_settings);var matchedObjects=this,percentBased=false,pp_dimensions,pp_open,pp_contentHeight,pp_contentWidth,pp_containerHeight,pp_containerWidth,windowHeight=$(window).height(),windowWidth=$(window).width(),pp_slideshow;doresize=true,scroll_pos=_get_scroll();$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){_center_overlay();_resize_overlay();});if(pp_settings.keyboard_shortcuts){$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){if(typeof $pp_pic_holder!='undefined'){if($pp_pic_holder.is(':visible')){switch(e.keyCode){case 37:$.prettyPhoto.changePage('previous');e.preventDefault();break;case 39:$.prettyPhoto.changePage('next');e.preventDefault();break;case 27:if(!settings.modal)$.prettyPhoto.close();e.preventDefault();break;};};};});};$.prettyPhoto.initialize=function(){settings=pp_settings;if(settings.theme=='pp_default')settings.horizontal_padding=16;theRel=$(this).attr(settings.hook);galleryRegExp=/\\[(?:.*)\\]/;isSet=(galleryRegExp.exec(theRel))?true:false;pp_images=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr(settings.hook).indexOf(theRel)!=-1)return $(n).attr('href');}):$.makeArray($(this).attr('href'));pp_titles=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr(settings.hook).indexOf(theRel)!=-1)return($(n).find('img').attr('alt'))?$(n).find('img').attr('alt'):\"\";}):$.makeArray($(this).find('img').attr('alt'));pp_descriptions=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr(settings.hook).indexOf(theRel)!=-1)return($(n).attr('title'))?$(n).attr('title'):\"\";}):$.makeArray($(this).attr('title'));if(pp_images.length>settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray($(this).attr('href'),pp_images);rel_index=(isSet)?set_position:$(\"a[\"+settings.hook+\"^='\"+theRel+\"']\").index($(this));_build_overlay(this);if(settings.allow_resize)$(window).bind('scroll.prettyphoto',function(){_center_overlay();});$.prettyPhoto.open();return false;}\n$.prettyPhoto.open=function(event){if(typeof settings==\"undefined\"){settings=pp_settings;pp_images=$.makeArray(arguments[0]);pp_titles=(arguments[1])?$.makeArray(arguments[1]):$.makeArray(\"\");pp_descriptions=(arguments[2])?$.makeArray(arguments[2]):$.makeArray(\"\");isSet=(pp_images.length>1)?true:false;set_position=(arguments[3])?arguments[3]:0;_build_overlay(event.target);}if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden');_checkPosition($(pp_images).size());$('.pp_loaderIcon').show();if(settings.deeplinking)setHashtag();if(settings.social_tools){facebook_like_link=settings.social_tools.replace('{location_href}',encodeURIComponent(location.href));$pp_pic_holder.find('.pp_social').html(facebook_like_link);}if($ppt.is(':hidden'))$ppt.css('opacity',0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find('.currentTextHolder').text((set_position+1)+settings.counter_separator_label+$(pp_images).size());if(typeof pp_descriptions[set_position]!='undefined'&&pp_descriptions[set_position]!=\"\"){$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));}else{$pp_pic_holder.find('.pp_description').hide();}movie_width=(parseFloat(getParam('width',pp_images[set_position])))?getParam('width',pp_images[set_position]):settings.default_width.toString();movie_height=(parseFloat(getParam('height',pp_images[set_position])))?getParam('height',pp_images[set_position]):settings.default_height.toString();percentBased=false;if(movie_height.indexOf('%')!=-1){movie_height=parseFloat(($(window).height()*parseFloat(movie_height)/100)-150);percentBased=true;}if(movie_width.indexOf('%')!=-1){movie_width=parseFloat(($(window).width()*parseFloat(movie_width)/100)-150);percentBased=true;}$pp_pic_holder.fadeIn(function(){(settings.show_title&&pp_titles[set_position]!=\"\"&&typeof pp_titles[set_position]!=\"undefined\")?$ppt.html(unescape(pp_titles[set_position])):$ppt.html('&nbsp;');imgPreloader=\"\";skipInjection=false;switch(_getFileType(pp_images[set_position])){case'image':imgPreloader=new Image();nextImage=new Image();if(isSet&&set_position<$(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image();if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find('#pp_full_res')[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){pp_dimensions=_fitToViewport(imgPreloader.width,imgPreloader.height);_showContent();};imgPreloader.onerror=function(){alert('Image cannot be loaded. Make sure the path is correct and image exist.');$.prettyPhoto.close();};imgPreloader.src=pp_images[set_position];break;case'youtube':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=getParam('v',pp_images[set_position]);if(movie_id==\"\"){movie_id=pp_images[set_position].split('youtu.be/');movie_id=movie_id[1];if(movie_id.indexOf('?')>0)movie_id=movie_id.substr(0,movie_id.indexOf('?'));if(movie_id.indexOf('&')>0)movie_id=movie_id.substr(0,movie_id.indexOf('&'));}movie='http://www.youtube.com/embed/'+movie_id;(getParam('rel',pp_images[set_position]))?movie+=\"?rel=\"+getParam('rel',pp_images[set_position]):movie+=\"?rel=1\";if(settings.autoplay)movie+=\"&autoplay=1\";toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case'vimeo':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=pp_images[set_position];var regExp=/http(s?):\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;var match=movie_id.match(regExp);movie='http://player.vimeo.com/video/'+match[3]+'?title=0&amp;byline=0&amp;portrait=0';if(settings.autoplay)movie+=\"&autoplay=1;\";vimeo_width=pp_dimensions['width']+'/embed/?moog_width='+pp_dimensions['width'];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);break;case'quicktime':pp_dimensions=_fitToViewport(movie_width,movie_height);pp_dimensions['height']+=15;pp_dimensions['contentHeight']+=15;pp_dimensions['containerHeight']+=15;toInject=settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case'flash':pp_dimensions=_fitToViewport(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf('flashvars')+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf('?'));toInject=settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);break;case'iframe':pp_dimensions=_fitToViewport(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf('iframe')-1);toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);break;case'ajax':doresize=false;pp_dimensions=_fitToViewport(movie_width,movie_height);doresize=true;skipInjection=true;$.get(pp_images[set_position],function(responseHTML){toInject=settings.inline_markup.replace(/{content}/g,responseHTML);$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();});break;case'custom':pp_dimensions=_fitToViewport(movie_width,movie_height);toInject=settings.custom_markup;break;case'inline':myClone=$(pp_images[set_position]).clone().append('<br clear=\"all\" />').css({'width':settings.default_width}).wrapInner('<div id=\"pp_full_res\"><div class=\"pp_inline\"></div></div>').appendTo($('body')).show();doresize=false;pp_dimensions=_fitToViewport($(myClone).width(),$(myClone).height());doresize=true;$(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());break;};if(!imgPreloader&&!skipInjection){$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();};});return false;};$.prettyPhoto.changePage=function(direction){currentGalleryPage=0;if(direction=='previous'){set_position--;if(set_position<0)set_position=$(pp_images).size()-1;}else if(direction=='next'){set_position++;if(set_position>$(pp_images).size()-1)set_position=0;}else{set_position=direction;};rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');}_hideContent(function(){$.prettyPhoto.open();});};$.prettyPhoto.changeGalleryPage=function(direction){if(direction=='next'){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0;}else if(direction=='previous'){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage;}else{currentGalleryPage=direction;};slide_speed=(direction=='next'||direction=='previous')?settings.animation_speed:0;slide_to=currentGalleryPage*(itemsPerPage*itemWidth);$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);};$.prettyPhoto.startSlideshow=function(){if(typeof pp_slideshow=='undefined'){$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){$.prettyPhoto.stopSlideshow();return false;});pp_slideshow=setInterval($.prettyPhoto.startSlideshow,settings.slideshow);}else{$.prettyPhoto.changePage('next');};}\n$.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});clearInterval(pp_slideshow);pp_slideshow=undefined;}\n$.prettyPhoto.close=function(){if($pp_overlay.is(\":animated\"))return;$.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){$(this).remove();});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible');$(this).remove();$(window).unbind('scroll.prettyphoto');clearHashtag();settings.callback();doresize=true;pp_open=false;delete settings;});};function _showContent(){$('.pp_loaderIcon').hide();projectedTop=scroll_pos['scrollTop']+((windowHeight/2)-(pp_dimensions['containerHeight']/2));if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find('.pp_content').animate({height:pp_dimensions['contentHeight'],width:pp_dimensions['contentWidth']},settings.animation_speed);$pp_pic_holder.animate({'top':projectedTop,'left':((windowWidth/2)-(pp_dimensions['containerWidth']/2)<0)?0:(windowWidth/2)-(pp_dimensions['containerWidth']/2),width:pp_dimensions['containerWidth']},settings.animation_speed,function(){$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed);if(isSet&&_getFileType(pp_images[set_position])==\"image\"){$pp_pic_holder.find('.pp_hoverContainer').show();}else{$pp_pic_holder.find('.pp_hoverContainer').hide();}if(settings.allow_expand){if(pp_dimensions['resized']){$('a.pp_expand,a.pp_contract').show();}else{$('a.pp_expand').hide();}}if(settings.autoplay_slideshow&&!pp_slideshow&&!pp_open)$.prettyPhoto.startSlideshow();settings.changepicturecallback();pp_open=true;});_insert_gallery();pp_settings.ajaxcallback();};function _hideContent(callback){$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){$('.pp_loaderIcon').show();callback();});};function _checkPosition(setCount){(setCount>1)?$('.pp_nav').show():$('.pp_nav').hide();};function _fitToViewport(width,height){resized=false;_getDimensions(width,height);imageWidth=width,imageHeight=height;if(((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight))&&doresize&&settings.allow_resize&&!percentBased){resized=true,fitting=false;while(!fitting){if((pp_containerWidth>windowWidth)){imageWidth=(windowWidth-200);imageHeight=(height/width)*imageWidth;}else if((pp_containerHeight>windowHeight)){imageHeight=(windowHeight-200);imageWidth=(width/height)*imageHeight;}else{fitting=true;};pp_containerHeight=imageHeight,pp_containerWidth=imageWidth;};if((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight)){_fitToViewport(pp_containerWidth,pp_containerHeight)};_getDimensions(imageWidth,imageHeight);};return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(pp_containerHeight),containerWidth:Math.floor(pp_containerWidth)+(settings.horizontal_padding*2),contentHeight:Math.floor(pp_contentHeight),contentWidth:Math.floor(pp_contentWidth),resized:resized};};function _getDimensions(width,height){width=parseFloat(width);height=parseFloat(height);$pp_details=$pp_pic_holder.find('.pp_details');$pp_details.width(width);detailsHeight=parseFloat($pp_details.css('marginTop'))+parseFloat($pp_details.css('marginBottom'));$pp_details=$pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({'position':'absolute','top':-10000});detailsHeight+=$pp_details.height();detailsHeight=(detailsHeight<=34)?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find('.ppt');$pp_title.width(width);titleHeight=parseFloat($pp_title.css('marginTop'))+parseFloat($pp_title.css('marginBottom'));$pp_title=$pp_title.clone().appendTo($('body')).css({'position':'absolute','top':-10000});titleHeight+=$pp_title.height();$pp_title.remove();pp_contentHeight=height+detailsHeight;pp_contentWidth=width;pp_containerHeight=pp_contentHeight+titleHeight+$pp_pic_holder.find('.pp_top').height()+$pp_pic_holder.find('.pp_bottom').height();pp_containerWidth=width;}function _getFileType(itemSrc){if(itemSrc.match(/youtube\\.com\\/watch/i)||itemSrc.match(/youtu\\.be/i)){return'youtube';}else if(itemSrc.match(/vimeo\\.com/i)){return'vimeo';}else if(itemSrc.match(/\\b.mov\\b/i)){return'quicktime';}else if(itemSrc.match(/\\b.swf\\b/i)){return'flash';}else if(itemSrc.match(/\\biframe=true\\b/i)){return'iframe';}else if(itemSrc.match(/\\bajax=true\\b/i)){return'ajax';}else if(itemSrc.match(/\\bcustom=true\\b/i)){return'custom';}else if(itemSrc.substr(0,1)=='#'){return'inline';}else{return'image';};};function _center_overlay(){if(doresize&&typeof $pp_pic_holder!='undefined'){scroll_pos=_get_scroll();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=(windowHeight/2)+scroll_pos['scrollTop']-(contentHeight/2);if(projectedTop<0)projectedTop=0;if(contentHeight>windowHeight)return;$pp_pic_holder.css({'top':projectedTop,'left':(windowWidth/2)+scroll_pos['scrollLeft']-(contentwidth/2)});};};function _get_scroll(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};};};function _resize_overlay(){windowHeight=$(window).height(),windowWidth=$(window).width();if(typeof $pp_overlay!=\"undefined\")$pp_overlay.height($(document).height()).width(windowWidth);};function _insert_gallery(){if(isSet&&settings.overlay_gallery&&_getFileType(pp_images[set_position])==\"image\"){itemWidth=52+5;navWidth=(settings.theme==\"facebook\"||settings.theme==\"pp_default\")?50:30;itemsPerPage=Math.floor((pp_dimensions['containerWidth']-100-navWidth)/itemWidth);itemsPerPage=(itemsPerPage<pp_images.length)?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();}else{$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();};galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css('margin-left',-((galleryWidth/2)+(navWidth/2))).find('div:first').width(galleryWidth+5).find('ul').width(fullGalleryWidth).find('li.selected').removeClass('selected');goToPage=(Math.floor(set_position/itemsPerPage)<totalPage)?Math.floor(set_position/itemsPerPage):totalPage;$.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');}else{$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');}}function _build_overlay(caller){if(settings.social_tools)facebook_like_link=settings.social_tools.replace('{location_href}',encodeURIComponent(location.href));settings.markup=settings.markup.replace('{pp_social}','');$('body').append(settings.markup);$pp_pic_holder=$('.pp_pic_holder'),$ppt=$('.ppt'),$pp_overlay=$('div.pp_overlay');if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject=\"\";for(var i=0;i<pp_images.length;i++){if(!pp_images[i].match(/\\b(jpg|jpeg|png|gif)\\b/gi)){classname='default';img_src='';}else{classname='';img_src=pp_images[i];}toInject+=\"<li class='\"+classname+\"'><a href='#'><img src='\"+img_src+\"' width='50' alt='' /></a></li>\";};toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find('#pp_full_res').after(toInject);$pp_gallery=$('.pp_pic_holder .pp_gallery'),$pp_gallery_li=$pp_gallery.find('li');$pp_gallery.find('.pp_arrow_next').click(function(){$.prettyPhoto.changeGalleryPage('next');$.prettyPhoto.stopSlideshow();return false;});$pp_gallery.find('.pp_arrow_previous').click(function(){$.prettyPhoto.changeGalleryPage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_content').hover(function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();},function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();});itemWidth=52+5;$pp_gallery_li.each(function(i){$(this).find('a').click(function(){$.prettyPhoto.changePage(i);$.prettyPhoto.stopSlideshow();return false;});});};if(settings.slideshow){$pp_pic_holder.find('.pp_nav').prepend('<a href=\"#\" class=\"pp_play\">Play</a>')\n$pp_pic_holder.find('.pp_nav .pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});}$pp_pic_holder.attr('class','pp_pic_holder '+settings.theme);$pp_overlay.css({'opacity':0,'height':$(document).height(),'width':$(window).width()}).bind('click',function(){if(!settings.modal)$.prettyPhoto.close();});$('a.pp_close').bind('click',function(){$.prettyPhoto.close();return false;});if(settings.allow_expand){$('a.pp_expand').bind('click',function(e){if($(this).hasClass('pp_expand')){$(this).removeClass('pp_expand').addClass('pp_contract');doresize=false;}else{$(this).removeClass('pp_contract').addClass('pp_expand');doresize=true;};_hideContent(function(){$.prettyPhoto.open();});return false;});}$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){$.prettyPhoto.changePage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){$.prettyPhoto.changePage('next');$.prettyPhoto.stopSlideshow();return false;});_center_overlay();};if(!pp_alreadyInitialized&&getHashtag()){pp_alreadyInitialized=true;hashIndex=getHashtag();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf('/'));setTimeout(function(){$(\"a[\"+pp_settings.hook+\"^='\"+hashRel+\"']:eq(\"+hashIndex+\")\").trigger('click');},50);}return this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize);};function getHashtag(){var url=location.href;hashtag=(url.indexOf('#prettyPhoto')!==-1)?decodeURI(url.substring(url.indexOf('#prettyPhoto')+1,url.length)):false;return hashtag;};function setHashtag(){if(typeof theRel=='undefined')return;location.hash=theRel+'/'+rel_index+'/';};function clearHashtag(){if(location.href.indexOf('#prettyPhoto')!==-1)location.hash=\"prettyPhoto\";}function getParam(name,url){name=name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");var regexS=\"[\\\\?&]\"+name+\"=([^&#]*)\";var regex=new RegExp(regexS);var results=regex.exec(url);return(results==null)?\"\":results[1];}})(jQuery);var pp_alreadyInitialized=false;";
var mod_pagespeed_NUDdfF$Uld = "(function($){function GifPlayer(preview,options){this.previewElement=preview;this.options=options;this.animationLoaded=false;}GifPlayer.scopes=new Array();GifPlayer.prototype={supportedFormats:['gif','jpeg','jpg','png'],activate:function(){var self=this;if(this.previewElement.width()===0){setTimeout(function(){self.activate();},100);}else{self.mode=self.getOption('mode');self.wrap();self.addSpinner();self.addControl();self.addEvents();}},wrap:function(){this.previewElement.addClass('gifplayer-ready');this.previewElement.addClass('img-responsive');this.wrapper=this.previewElement.wrap(\"<div class='gifplayer-wrapper'></div>\").parent();this.previewElement.css('cursor','pointer');},addSpinner:function(){this.spinnerElement=$(\"<div class = 'spinner'></div>\");this.wrapper.append(this.spinnerElement);this.spinnerElement.hide();},getOption:function(option){var dataOption=this.previewElement.data(option.toLowerCase());if(dataOption!=undefined&&dataOption!=''){return dataOption;}else{return this.options[option];}},addControl:function(){var label=this.getOption('label');this.playElement=$(\"<ins class='play-gif'>\"+label+\"</ins>\");this.wrapper.append(this.playElement);this.playElement.css('top',this.previewElement.height()/2-this.playElement.height()/2);this.playElement.css('left',this.previewElement.width()/2-this.playElement.width()/2);},addEvents:function(){var gp=this;var playOn=this.getOption('playOn');switch(playOn){case'click':gp.playElement.on('click',function(e){gp.previewElement.trigger('click');});gp.previewElement.on('click',function(e){gp.loadAnimation();e.preventDefault();e.stopPropagation();});break;case'hover':gp.previewElement.on('click mouseover',function(e){gp.loadAnimation();e.preventDefault();e.stopPropagation();});break;case'auto':console.log('auto not implemented yet');break;default:console.log(playOn+' is not accepted as playOn value.');}$(window).resize(function(){$(\".gifPlayWrap\").each(function(){var playElement=$(this).find('.play-gif');var previewElement=$(this).find('.gif');playElement.css('top',previewElement.height()/2-playElement.height()/2);playElement.css('left',previewElement.width()/2-playElement.width()/2);});});},processScope:function(){scope=this.getOption('scope');if(scope){if(GifPlayer.scopes[scope]){GifPlayer.scopes[scope].stopGif();}GifPlayer.scopes[scope]=this;}},loadAnimation:function(){this.processScope();this.spinnerElement.show();if(this.mode=='gif'){this.loadGif();}else if(this.mode=='video'){if(!this.videoLoaded){this.loadVideo();}else{this.playVideo();}}this.getOption('onPlay').call(this.previewElement);},stopGif:function(){this.gifElement.hide();this.previewElement.show();this.playElement.show();this.resetEvents();this.getOption('onStop').call(this.previewElement);},getFile:function(ext){var gif=this.getOption(ext);if(gif!=undefined&&gif!=''){return gif;}else{replaceString=this.previewElement.attr('src');for(i=0;i<this.supportedFormats.length;i++){pattrn=new RegExp(this.supportedFormats[i]+'$','i');replaceString=replaceString.replace(pattrn,ext);}return replaceString;}},loadGif:function(){var gp=this;gp.playElement.hide();if(!this.animationLoaded){this.enableAbort();}var gifSrc=this.getFile('gif');this.gifElement=$(\"<img class='gp-gif-element img-responsive' />\");var wait=this.getOption('wait');if(wait){this.gifElement.load(function(){gp.animationLoaded=true;gp.resetEvents();gp.previewElement.hide();gp.wrapper.append(gp.gifElement);gp.spinnerElement.hide();gp.getOption('onLoadComplete').call(gp.previewElement);});}else{gp.animationLoaded=true;gp.resetEvents();gp.previewElement.hide();gp.wrapper.append(gp.gifElement);gp.spinnerElement.hide();}this.gifElement.css('cursor','pointer');this.gifElement.attr('src',gifSrc);this.gifElement.click(function(e){$(this).remove();gp.stopGif();e.preventDefault();e.stopPropagation();});gp.getOption('onLoad').call(gp.previewElement);},loadVideo:function(){this.videoLoaded=true;var videoSrcMp4=this.getFile('mp4');var videoSrcWebm=this.getFile('webm');var videoWidth=this.previewElement.width();var videoHeight=this.previewElement.height();this.videoElement=$('<video class=\"gp-video-element\" width=\"'+videoWidth+'px\" height=\"'+videoHeight+'\" style=\"margin:0 auto;width:'+videoWidth+'px;height:'+videoHeight+'px;\" autoplay=\"autoplay\" loop=\"loop\" muted=\"muted\" poster=\"'+this.previewElement.attr('src')+'\"><source type=\"video/mp4\" src=\"'+videoSrcMp4+'\"><source type=\"video/webm\" src=\"'+videoSrcWebm+'\"></video>');var gp=this;var checkLoad=function(){if(gp.videoElement[0].readyState===4){gp.playVideo();gp.animationLoaded=true;}else{setTimeout(checkLoad,100);}};var wait=this.getOption('wait');if(wait){checkLoad();}else{this.playVideo();}this.videoElement.on('click',function(){if(gp.videoPaused){gp.resumeVideo();}else{gp.pauseVideo();}});},playVideo:function(){this.spinnerElement.hide();this.previewElement.hide();this.playElement.hide();this.gifLoaded=true;this.previewElement.hide();this.wrapper.append(this.videoElement);this.videoPaused=false;this.videoElement[0].play();this.getOption('onPlay').call(this.previewElement);},pauseVideo:function(){this.videoPaused=true;this.videoElement[0].pause();this.playElement.show();this.mouseoverEnabled=false;this.getOption('onStop').call(this.previewElement);},resumeVideo:function(){this.videoPaused=false;this.videoElement[0].play();this.playElement.hide();this.getOption('onPlay').call(this.previewElement);},enableAbort:function(){var gp=this;this.previewElement.click(function(e){gp.abortLoading(e);});this.spinnerElement.click(function(e){gp.abortLoading(e);});},abortLoading:function(e){this.spinnerElement.hide();this.playElement.show();e.preventDefault();e.stopPropagation();this.gifElement.off('load').on('load',function(ev){ev.preventDefault();ev.stopPropagation();});this.resetEvents();this.getOption('onStop').call(this.previewElement);},resetEvents:function(){this.previewElement.off('click');this.previewElement.off('mouseover');this.playElement.off('click');this.spinnerElement.off('click');this.addEvents();}};$.fn.gifplayer=function(options){if(/^(play|stop)$/i.test(options)){return this.each(function(){options=options.toLowerCase();if($(this).hasClass('gifplayer-ready')){var gp=new GifPlayer($(this),null);gp.options={};gp.options=$.extend({},$.fn.gifplayer.defaults,gp.options);gp.wrapper=$(this).parent();gp.spinnerElement=gp.wrapper.find('.spinner');gp.playElement=gp.wrapper.find('.play-gif');gp.gifElement=gp.wrapper.find('.gp-gif-element');gp.videoElement=gp.wrapper.find('.gp-video-element');gp.mode=gp.getOption('mode');switch(options){case'play':gp.playElement.trigger('click');break;case'stop':if(!gp.playElement.is(':visible')){if(gp.mode=='gif'){gp.stopGif();}else if(gp.mode=='video'){gp.videoElement.trigger('click');}}break;}}});}else{return this.each(function(){options=$.extend({},$.fn.gifplayer.defaults,options);var gifplayer=new GifPlayer($(this),options);gifplayer.activate();});}};$.fn.gifplayer.defaults={label:'GIF',playOn:'click',mode:'gif',gif:'',mp4:'',webm:'',wait:false,scope:false,onPlay:function(){},onStop:function(){},onLoad:function(){},onLoadComplete:function(){}};})(jQuery);";
